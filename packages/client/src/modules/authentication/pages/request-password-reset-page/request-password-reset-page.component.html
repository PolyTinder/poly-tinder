<app-authentication-layout
    name="Réinitialiser le mot de passe"
    [formGroup]="requestResetPasswordForm"
    [formsErrors]="{
        unknownError: 'Un erreur est survenu',
    }"
    [loading]="loading"
    (formSubmit)="onSubmit()"
    [disabled]="sent | async"
>
    <ng-container auth-form-field>
        <ng-container *ngIf="!(sent | async); else sentMessage">
            <mat-form-field>
                <mat-label><i class="fas fa-envelope"></i> Email</mat-label>
                <input formControlName="email" matInput>
                <mat-error *ngIf="requestResetPasswordForm.controls.email.errors?.['required']">Le email est requis</mat-error>
                <mat-error *ngIf="requestResetPasswordForm.controls.email.errors?.['email']">Doit être un email valide</mat-error>
            </mat-form-field>
        </ng-container>

        <ng-template #sentMessage>
            <p>Un email vous a été envoyé avec le lien pour réinitialiser le mot de passe.</p>
        </ng-template>
    </ng-container>
</app-authentication-layout>