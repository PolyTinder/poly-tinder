<form [formGroup]="userProfileForm" (submit)="onSubmit()" class="form">
    <section>
        <p class="form__title"><i class="fas fa-camera-retro"></i> Mes photos</p>
    
        <div class="form__pictures">
            <app-image-control
                *ngFor="let picture of pictures; let index = index"
                class="form__pictures__control"
                [value]="picture"
                crop="9:16"
            ></app-image-control>
        </div>
    </section>

    <section>
        <p class="form__title"><i class="fas fa-user"></i> Mon profil</p>

        <mat-form-field>
            <mat-label><i class="fas fa-signature"></i> Nom</mat-label>
            <input formControlName="name" matInput>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-calendar"></i> Age</mat-label>
            <input formControlName="age" matInput type="number">
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-book"></i> À propos de moi</mat-label>
            <textarea formControlName="bio" rows="5" matInput></textarea>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-ruler"></i> Taille</mat-label>
            <input formControlName="height" matInput type="number">
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-city"></i> Ville</mat-label>
            <input formControlName="livingIn" matInput>
        </mat-form-field>
    </section>

    <section>
        <p class="form__title"><i class="fas fa-heart"></i> Ma vie amoureuse</p>

        <mat-form-field>
            <mat-label><i class="fas fa-heart"></i> Ouvert à</mat-label>
            <mat-select formControlName="lookingFor">
                <mat-option value="">No spécifié</mat-option>
                <mat-option *ngFor="let lookingFor of lookingFor" [value]="lookingFor.id">{{ lookingFor.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-user-friends"></i> Type de relation</mat-label>
            <mat-select formControlName="relationshipType">
                <mat-option value="">No spécifié</mat-option>
                <mat-option *ngFor="let relationshipType of relationshipTypes" [value]="relationshipType.id">{{ relationshipType.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-transgender"></i> Catégorie de genre</mat-label>
            <mat-select formControlName="genderCategory">
                <mat-option *ngFor="let gender of genders" [value]="gender.id">{{ gender.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-transgender"></i> Identitée de genre</mat-label>
            <mat-select formControlName="gender">
                <mat-option value="">No spécifié</mat-option>
                <mat-option *ngFor="let gender of genderIdentities" [value]="gender">{{ gender }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-transgender"></i> À la recherche de</mat-label>
            <mat-select formControlName="genderPreference">
                <mat-option *ngFor="let gender of genderPreferences" [value]="gender.id">{{ gender.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-flag"></i> Sexualité</mat-label>
            <mat-select formControlName="sexualOrientation">
                <mat-option *ngFor="let sexuality of sexualities" [value]="sexuality.id">{{ sexuality.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <a><i class="fas fa-info-circle"></i> En savoir plus sur les genres et la sexualité</a>
    </section>

    <section>
        <p class="form__title"><i class="fas fa-school"></i> Ma vie à Poly</p>

        <mat-form-field>
            <mat-label><i class="fas fa-graduation-cap"></i> Programme d'étude</mat-label>
            <mat-select formControlName="program">
                <mat-option value="">No spécifié</mat-option>
                <mat-option *ngFor="let program of programs" [value]="program.id">{{ program.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-graduation-cap"></i> Comités et Associations</mat-label>
            <mat-select formControlName="associations" multiple>
                <mat-option 
                    *ngFor="let association of associations"
                    [value]="association"
                >
                    {{association}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </section>

    <section>
        <p class="form__title"><i class="fas fa-leaf"></i> Mon mode de vie</p>

        <mat-form-field>
            <mat-label><i class="fas fa-star-shooting"></i> Signe zodiac</mat-label>
            <mat-select formControlName="zodiacSign">
                <mat-option value="">No spécifié</mat-option>
                <mat-option *ngFor="let zodiacSign of zodiacSigns" [value]="zodiacSign.id">{{ zodiacSign.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-glass-martini"></i> Alcool</mat-label>
            <mat-select formControlName="drinking">
                <mat-option value="">No spécifié</mat-option>
                <mat-option *ngFor="let drinkingHabit of drinkingHabits" [value]="drinkingHabit.id">{{ drinkingHabit.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-smoking"></i> Cigarette</mat-label>
            <mat-select formControlName="smoking">
                <mat-option value="">No spécifié</mat-option>
                <mat-option *ngFor="let smokingHabit of smokingHabits" [value]="smokingHabit.id">{{ smokingHabit.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-cannabis"></i> Drogues</mat-label>
            <mat-select formControlName="drugs">
                <mat-option value="">No spécifié</mat-option>
                <mat-option *ngFor="let drugHabit of drugHabits" [value]="drugHabit.id">{{ drugHabit.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-dumbbell"></i> Sports</mat-label>
            <mat-select formControlName="workout">
                <mat-option value="">No spécifié</mat-option>
                <mat-option *ngFor="let workoutHabit of workoutHabits" [value]="workoutHabit.id">{{ workoutHabit.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-graduation-cap"></i> Intérets et passes-temps</mat-label>
            <mat-select formControlName="interests" multiple>
                <mat-option 
                    *ngFor="let interests of interests"
                    [value]="interests"
                >
                    {{interests}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </section>

    <section>
        <p class="form__title"><i class="fas fa-briefcase"></i> Ma vie profesionnelle</p>

        <mat-form-field>
            <mat-label><i class="fas fa-briefcase"></i> Emploi</mat-label>
            <input formControlName="jobTitle" matInput>
        </mat-form-field>

        <mat-form-field>
            <mat-label><i class="fas fa-briefcase"></i> Compagnie</mat-label>
            <input formControlName="jobCompany" matInput>
        </mat-form-field>
    </section>

    <p *ngIf="userProfileForm.invalid">Invalid</p>

    <button class="form__submit interactable" type="submit" [disabled]="!userProfileForm.dirty || userProfileForm.invalid">
        <i class="fas fa-save"></i> Enregistrer
    </button>
</form>
