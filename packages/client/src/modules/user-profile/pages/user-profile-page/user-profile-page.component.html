<app-layout headerType="hidden">
    <div class="user-profile" *ngIf="userProfile | async; let userProfile">
        <div class="user-profile__info">
            <img 
                class="user-profile__info__avatar"
                [src]="userProfile.pictures?.[0]"
                [alt]="'Photo de profile de ' + userProfile.name"
                *ngIf="userProfile.pictures?.[0]"
            >
            <div 
                class="user-profile__info__avatar"
                *ngIf="!userProfile.pictures?.[0]"
            ></div>
            <p class="user-profile__info__name">{{userProfile.name ?? 'Sans nom'}}<span *ngIf="userProfile.age">, {{userProfile.age}}</span></p>
        </div>
    
        <div class="user-profile__actions">
            <a routerLink="/profile-edit" class="user-profile__actions__btn interactable--small">
                <i class="fas fa-user-edit"></i>
                Modifier mon profil
                <span class="user-profile__actions__btn__pill user-profile__actions__btn__pill--error" *ngIf="!(userValid | async)">1</span>
            </a>
            <a routerLink="/profile-preview" class="user-profile__actions__btn interactable--small">
                <i class="fas fa-user"></i>
                Visualiser mon profil
            </a>
            <!-- <button class="user-profile__actions__btn interactable--small">
                <i class="fas fa-cog"></i>
                Préférences
            </button> -->
            <button class="user-profile__actions__btn interactable--small" [matMenuTriggerFor]="logoutMenu">
                <i class="fas fa-sign-out"></i>
                Se déconnecter
    
            </button>
            <mat-menu #logoutMenu="matMenu">
                <button (click)="logout()" mat-menu-item><i class="fas fa-sign-out"></i> Se déconnecter</button>
            </mat-menu>
            <hr>
            <a routerLink="/about" class="user-profile__actions__btn interactable--small">
                <i class="fas fa-info-circle"></i>
                À propos
            </a>
            <a href="https://github.com/PolyTinder/poly-tinder" target="_blank" class="user-profile__actions__btn interactable--small">
                <i class="fab fa-github"></i>
                Github
            </a>
        </div>
    </div>
</app-layout>
